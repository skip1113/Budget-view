{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\n\n\nimport * as React from 'react';\nimport { Context } from './injectIntl';\nimport { invariantIntlContext } from '../utils';\nimport { invariant } from '@formatjs/ecma402-abstract';\nvar MINUTE = 60;\nvar HOUR = 60 * 60;\nvar DAY = 60 * 60 * 24;\n\nfunction selectUnit(seconds) {\n  var absValue = Math.abs(seconds);\n\n  if (absValue < MINUTE) {\n    return 'second';\n  }\n\n  if (absValue < HOUR) {\n    return 'minute';\n  }\n\n  if (absValue < DAY) {\n    return 'hour';\n  }\n\n  return 'day';\n}\n\nfunction getDurationInSeconds(unit) {\n  switch (unit) {\n    case 'second':\n      return 1;\n\n    case 'minute':\n      return MINUTE;\n\n    case 'hour':\n      return HOUR;\n\n    default:\n      return DAY;\n  }\n}\n\nfunction valueToSeconds(value, unit) {\n  if (!value) {\n    return 0;\n  }\n\n  switch (unit) {\n    case 'second':\n      return value;\n\n    case 'minute':\n      return value * MINUTE;\n\n    default:\n      return value * HOUR;\n  }\n}\n\nvar INCREMENTABLE_UNITS = ['second', 'minute', 'hour'];\n\nfunction canIncrement(unit) {\n  if (unit === void 0) {\n    unit = 'second';\n  }\n\n  return INCREMENTABLE_UNITS.includes(unit);\n}\n\nvar FormattedRelativeTime =\n/** @class */\nfunction (_super) {\n  __extends(FormattedRelativeTime, _super);\n\n  function FormattedRelativeTime(props) {\n    var _this = _super.call(this, props) || this; // Public for testing\n\n\n    _this._updateTimer = null;\n    _this.state = {\n      prevUnit: _this.props.unit,\n      prevValue: _this.props.value,\n      currentValueInSeconds: canIncrement(_this.props.unit) ? valueToSeconds(_this.props.value, _this.props.unit) : 0\n    };\n    invariant(!props.updateIntervalInSeconds || !!(props.updateIntervalInSeconds && canIncrement(props.unit)), 'Cannot schedule update with unit longer than hour');\n    return _this;\n  }\n\n  FormattedRelativeTime.prototype.scheduleNextUpdate = function (_a, _b) {\n    var _this = this;\n\n    var updateIntervalInSeconds = _a.updateIntervalInSeconds,\n        unit = _a.unit;\n    var currentValueInSeconds = _b.currentValueInSeconds;\n    clearTimeout(this._updateTimer);\n    this._updateTimer = null; // If there's no interval and we cannot increment this unit, do nothing\n\n    if (!updateIntervalInSeconds || !canIncrement(unit)) {\n      return;\n    } // Figure out the next interesting time\n\n\n    var nextValueInSeconds = currentValueInSeconds - updateIntervalInSeconds;\n    var nextUnit = selectUnit(nextValueInSeconds); // We've reached the max auto incrementable unit, don't schedule another update\n\n    if (nextUnit === 'day') {\n      return;\n    }\n\n    var unitDuration = getDurationInSeconds(nextUnit);\n    var remainder = nextValueInSeconds % unitDuration;\n    var prevInterestingValueInSeconds = nextValueInSeconds - remainder;\n    var nextInterestingValueInSeconds = prevInterestingValueInSeconds >= currentValueInSeconds ? prevInterestingValueInSeconds - unitDuration : prevInterestingValueInSeconds;\n    var delayInSeconds = Math.abs(nextInterestingValueInSeconds - currentValueInSeconds);\n    this._updateTimer = setTimeout(function () {\n      return _this.setState({\n        currentValueInSeconds: nextInterestingValueInSeconds\n      });\n    }, delayInSeconds * 1e3);\n  };\n\n  FormattedRelativeTime.prototype.componentDidMount = function () {\n    this.scheduleNextUpdate(this.props, this.state);\n  };\n\n  FormattedRelativeTime.prototype.componentDidUpdate = function () {\n    this.scheduleNextUpdate(this.props, this.state);\n  };\n\n  FormattedRelativeTime.prototype.componentWillUnmount = function () {\n    clearTimeout(this._updateTimer);\n    this._updateTimer = null;\n  };\n\n  FormattedRelativeTime.getDerivedStateFromProps = function (props, state) {\n    if (props.unit !== state.prevUnit || props.value !== state.prevValue) {\n      return {\n        prevValue: props.value,\n        prevUnit: props.unit,\n        currentValueInSeconds: canIncrement(props.unit) ? valueToSeconds(props.value, props.unit) : 0\n      };\n    }\n\n    return null;\n  };\n\n  FormattedRelativeTime.prototype.render = function () {\n    var _this = this;\n\n    return React.createElement(Context.Consumer, null, function (intl) {\n      invariantIntlContext(intl);\n      var formatRelativeTime = intl.formatRelativeTime,\n          Text = intl.textComponent;\n      var _a = _this.props,\n          children = _a.children,\n          value = _a.value,\n          unit = _a.unit,\n          updateIntervalInSeconds = _a.updateIntervalInSeconds;\n      var currentValueInSeconds = _this.state.currentValueInSeconds;\n      var currentValue = value || 0;\n      var currentUnit = unit;\n\n      if (canIncrement(unit) && typeof currentValueInSeconds === 'number' && updateIntervalInSeconds) {\n        currentUnit = selectUnit(currentValueInSeconds);\n        var unitDuration = getDurationInSeconds(currentUnit);\n        currentValue = Math.round(currentValueInSeconds / unitDuration);\n      }\n\n      var formattedRelativeTime = formatRelativeTime(currentValue, currentUnit, __assign({}, _this.props));\n\n      if (typeof children === 'function') {\n        return children(formattedRelativeTime);\n      }\n\n      if (Text) {\n        return React.createElement(Text, null, formattedRelativeTime);\n      }\n\n      return formattedRelativeTime;\n    });\n  };\n\n  FormattedRelativeTime.displayName = 'FormattedRelativeTime';\n  FormattedRelativeTime.defaultProps = {\n    value: 0,\n    unit: 'second'\n  };\n  return FormattedRelativeTime;\n}(React.PureComponent);\n\nexport { FormattedRelativeTime };\nexport default FormattedRelativeTime;","map":{"version":3,"sources":["C:/Users/Skipk/du-bootcamp/budget-view/budget-view/client/node_modules/react-intl/lib/src/components/relative.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","Context","invariantIntlContext","invariant","MINUTE","HOUR","DAY","selectUnit","seconds","absValue","Math","abs","getDurationInSeconds","unit","valueToSeconds","value","INCREMENTABLE_UNITS","canIncrement","includes","FormattedRelativeTime","_super","props","_this","_updateTimer","state","prevUnit","prevValue","currentValueInSeconds","updateIntervalInSeconds","scheduleNextUpdate","_a","_b","clearTimeout","nextValueInSeconds","nextUnit","unitDuration","remainder","prevInterestingValueInSeconds","nextInterestingValueInSeconds","delayInSeconds","setTimeout","setState","componentDidMount","componentDidUpdate","componentWillUnmount","getDerivedStateFromProps","render","createElement","Consumer","intl","formatRelativeTime","Text","textComponent","children","currentValue","currentUnit","round","formattedRelativeTime","displayName","defaultProps","PureComponent"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport * as React from 'react';\nimport { Context } from './injectIntl';\nimport { invariantIntlContext } from '../utils';\nimport { invariant } from '@formatjs/ecma402-abstract';\nvar MINUTE = 60;\nvar HOUR = 60 * 60;\nvar DAY = 60 * 60 * 24;\nfunction selectUnit(seconds) {\n    var absValue = Math.abs(seconds);\n    if (absValue < MINUTE) {\n        return 'second';\n    }\n    if (absValue < HOUR) {\n        return 'minute';\n    }\n    if (absValue < DAY) {\n        return 'hour';\n    }\n    return 'day';\n}\nfunction getDurationInSeconds(unit) {\n    switch (unit) {\n        case 'second':\n            return 1;\n        case 'minute':\n            return MINUTE;\n        case 'hour':\n            return HOUR;\n        default:\n            return DAY;\n    }\n}\nfunction valueToSeconds(value, unit) {\n    if (!value) {\n        return 0;\n    }\n    switch (unit) {\n        case 'second':\n            return value;\n        case 'minute':\n            return value * MINUTE;\n        default:\n            return value * HOUR;\n    }\n}\nvar INCREMENTABLE_UNITS = ['second', 'minute', 'hour'];\nfunction canIncrement(unit) {\n    if (unit === void 0) { unit = 'second'; }\n    return INCREMENTABLE_UNITS.includes(unit);\n}\nvar FormattedRelativeTime = /** @class */ (function (_super) {\n    __extends(FormattedRelativeTime, _super);\n    function FormattedRelativeTime(props) {\n        var _this = _super.call(this, props) || this;\n        // Public for testing\n        _this._updateTimer = null;\n        _this.state = {\n            prevUnit: _this.props.unit,\n            prevValue: _this.props.value,\n            currentValueInSeconds: canIncrement(_this.props.unit)\n                ? valueToSeconds(_this.props.value, _this.props.unit)\n                : 0,\n        };\n        invariant(!props.updateIntervalInSeconds ||\n            !!(props.updateIntervalInSeconds && canIncrement(props.unit)), 'Cannot schedule update with unit longer than hour');\n        return _this;\n    }\n    FormattedRelativeTime.prototype.scheduleNextUpdate = function (_a, _b) {\n        var _this = this;\n        var updateIntervalInSeconds = _a.updateIntervalInSeconds, unit = _a.unit;\n        var currentValueInSeconds = _b.currentValueInSeconds;\n        clearTimeout(this._updateTimer);\n        this._updateTimer = null;\n        // If there's no interval and we cannot increment this unit, do nothing\n        if (!updateIntervalInSeconds || !canIncrement(unit)) {\n            return;\n        }\n        // Figure out the next interesting time\n        var nextValueInSeconds = currentValueInSeconds - updateIntervalInSeconds;\n        var nextUnit = selectUnit(nextValueInSeconds);\n        // We've reached the max auto incrementable unit, don't schedule another update\n        if (nextUnit === 'day') {\n            return;\n        }\n        var unitDuration = getDurationInSeconds(nextUnit);\n        var remainder = nextValueInSeconds % unitDuration;\n        var prevInterestingValueInSeconds = nextValueInSeconds - remainder;\n        var nextInterestingValueInSeconds = prevInterestingValueInSeconds >= currentValueInSeconds\n            ? prevInterestingValueInSeconds - unitDuration\n            : prevInterestingValueInSeconds;\n        var delayInSeconds = Math.abs(nextInterestingValueInSeconds - currentValueInSeconds);\n        this._updateTimer = setTimeout(function () {\n            return _this.setState({\n                currentValueInSeconds: nextInterestingValueInSeconds,\n            });\n        }, delayInSeconds * 1e3);\n    };\n    FormattedRelativeTime.prototype.componentDidMount = function () {\n        this.scheduleNextUpdate(this.props, this.state);\n    };\n    FormattedRelativeTime.prototype.componentDidUpdate = function () {\n        this.scheduleNextUpdate(this.props, this.state);\n    };\n    FormattedRelativeTime.prototype.componentWillUnmount = function () {\n        clearTimeout(this._updateTimer);\n        this._updateTimer = null;\n    };\n    FormattedRelativeTime.getDerivedStateFromProps = function (props, state) {\n        if (props.unit !== state.prevUnit || props.value !== state.prevValue) {\n            return {\n                prevValue: props.value,\n                prevUnit: props.unit,\n                currentValueInSeconds: canIncrement(props.unit)\n                    ? valueToSeconds(props.value, props.unit)\n                    : 0,\n            };\n        }\n        return null;\n    };\n    FormattedRelativeTime.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(Context.Consumer, null, function (intl) {\n            invariantIntlContext(intl);\n            var formatRelativeTime = intl.formatRelativeTime, Text = intl.textComponent;\n            var _a = _this.props, children = _a.children, value = _a.value, unit = _a.unit, updateIntervalInSeconds = _a.updateIntervalInSeconds;\n            var currentValueInSeconds = _this.state.currentValueInSeconds;\n            var currentValue = value || 0;\n            var currentUnit = unit;\n            if (canIncrement(unit) &&\n                typeof currentValueInSeconds === 'number' &&\n                updateIntervalInSeconds) {\n                currentUnit = selectUnit(currentValueInSeconds);\n                var unitDuration = getDurationInSeconds(currentUnit);\n                currentValue = Math.round(currentValueInSeconds / unitDuration);\n            }\n            var formattedRelativeTime = formatRelativeTime(currentValue, currentUnit, __assign({}, _this.props));\n            if (typeof children === 'function') {\n                return children(formattedRelativeTime);\n            }\n            if (Text) {\n                return React.createElement(Text, null, formattedRelativeTime);\n            }\n            return formattedRelativeTime;\n        }));\n    };\n    FormattedRelativeTime.displayName = 'FormattedRelativeTime';\n    FormattedRelativeTime.defaultProps = {\n        value: 0,\n        unit: 'second',\n    };\n    return FormattedRelativeTime;\n}(React.PureComponent));\nexport { FormattedRelativeTime };\nexport default FormattedRelativeTime;\n"]},"metadata":{},"sourceType":"module"}